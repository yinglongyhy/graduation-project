(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41a8a587"],{"0213":function(e,t,r){"use strict";r("3cbd")},"236a":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("b775");function a(e,t){return Object(n["a"])({url:e,method:"post",params:t})}},"3cbd":function(e,t,r){},"7db0":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").find,i=r("44d2"),o=r("ae40"),l="find",s=!0,u=o(l);l in[]&&Array(1)[l]((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(l)},a61c:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{align:"center",label:"ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index)+" ")]}}])}),r("el-table-column",{attrs:{label:"登录令牌"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.token)+" ")]}}])}),r("el-table-column",{attrs:{label:"登录用户id",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.userId))])]}}])}),r("el-table-column",{attrs:{label:"登录用户名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.username)+" ")]}}])}),r("el-table-column",{attrs:{label:"角色",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.role)+" ")]}}])}),r("el-table-column",{attrs:{label:"登录ip",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.ip)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"created_at",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-time"}),r("span",[e._v(e._s(t.row.createTime))])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"created_at",label:"修改时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-time"}),r("span",[e._v(e._s(t.row.modifiedTime))])]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),r("Page",{ref:"page",attrs:{url:e.url,params:e.params},on:{refreshList:e.refreshList}}),r("el-dialog",{attrs:{title:"编辑",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{attrs:{model:e.form}},[r("el-form-item",{attrs:{label:"登录令牌","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.token,callback:function(t){e.$set(e.form,"token",t)},expression:"form.token"}})],1),r("el-form-item",{attrs:{label:"登录用户id","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1),r("el-form-item",{attrs:{label:"登录用户名","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}})],1),r("el-form-item",{attrs:{label:"登录ip","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.ip,callback:function(t){e.$set(e.form,"ip",t)},expression:"form.ip"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.update()}}},[e._v("确 定")])],1)],1)],1)},a=[],i=(r("7db0"),r("fc23")),o=r("e0fe"),l=r("236a"),s={components:{Page:i["a"]},filters:{statusFilter:function(e){var t={0:"success",1:"danger"};return t[e]}},data:function(){return{dialogTableVisible:!1,dialogFormVisible:!1,formLabelWidth:"120px",form:{id:null,token:null,userId:null,username:null,role:null,ip:null},params:{},url:"/api/admin/loginToken/page",list:null,listLoading:!0}},created:function(){},methods:{onSubmit:function(){this.$refs.page.clear(),this.$refs.page.refresh()},refreshList:function(e){this.list=e,this.listLoading=!1},update:function(){var e=this,t=this.form.id,r=this.list.find((function(e){return e.id===t}));Object(l["a"])("/api/admin/loginToken",this.form).then((function(t){r.id=e.form.id,r.token=e.form.token,r.userId=e.form.userId,r.username=e.form.username,r.role=e.form.role,r.ip=e.form.ip})),this.dialogFormVisible=!0,this.dialogFormVisible=!1},handleEdit:function(e,t){this.form.id=t.id,this.form.token=t.token,this.form.userId=t.userId,this.form.username=t.username,this.form.role=t.role,this.form.ip=t.ip,this.dialogFormVisible=!0},handleDelete:function(e,t){var r=this;Object(o["a"])("/api/admin/loginToken/"+t.id).then((function(e){r.$refs.page.refresh()}))}}},u=s,c=r("2877"),f=Object(c["a"])(u,n,a,!1,null,null,null);t["default"]=f.exports},e0fe:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("b775");function a(e,t){return Object(n["a"])({url:e,method:"delete",params:t})}},fc23:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],i=r("b775");function o(e,t){return Object(i["a"])({url:e,method:"get",params:t})}var l={props:["url","params"],data:function(){return{currentPage:1,pageSize:10,total:0}},created:function(){console.log(this.url),this.fetchData(this.url,{pageNumber:this.currentPage,pageSize:this.pageSize})},methods:{clear:function(){this.currentPage=1,this.pageSize=10},refresh:function(){this.params.pageNumber=this.currentPage,this.params.pageSize=this.pageSize,console.log(this.params),this.fetchData(this.url,this.params)},fetchData:function(e,t){var r=this;o(e,t).then((function(e){console.log(e),r.total=e.total,r.$emit("refreshList",e.records)}))},handleSizeChange:function(e){this.currentPage=1,this.pageSize=e,this.refresh()},handleCurrentChange:function(e){this.currentPage=e,this.refresh()}}},s=l,u=(r("0213"),r("2877")),c=Object(u["a"])(s,n,a,!1,null,null,null);t["a"]=c.exports}}]);